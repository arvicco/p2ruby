


; ----------------------------------------------------------------------------
;  Схема репликации FORTS_PUBLIC
; ----------------------------------------------------------------------------


; ----------------------------------------------------------------------------
; Поток репликации CustReplScheme - Поток FORTS_OPTINFO_REPL - Опционы: справочная и сессионная информация
[dbscheme:CustReplScheme]
table=opt_rejected_orders
table=opt_intercl_info
table=opt_exp_orders
table=opt_vcb
table=opt_sess_contents
table=opt_sess_settl

; Отвергнутые в клиринг заявки
[table:CustReplScheme:opt_rejected_orders]
field=replID,i8
field=replRev,i8
field=replAct,i8
field=order_id,i8
field=sess_id,i4
field=client_code,c7
field=moment,t
field=moment_reject,t
field=isin_id,i4
field=dir,i1
field=amount,i4
field=price,d16.5
field=date_exp,t
field=id_ord1,i8
field=ret_code,i4
field=ret_message,c255

; Индекс: Служебный индекс
index=IDX_opt_rejected_orders_ID_U,UNIQUE,replID

; Индекс: Служебный индекс
index=IDX_opt_rejected_orders_REV_U,UNIQUE,replRev

; Индекс: Индекс по номеру заявки
index=IDX_opt_rejected_orders_KEYFIELDS_U,UNIQUE,order_id,replAct




; информация о ВМ, рассчитанной по результатам пром. клиринга
[table:CustReplScheme:opt_intercl_info]
field=replID,i8
field=replRev,i8
field=replAct,i8
field=isin_id,i4
field=client_code,c7
field=vm_intercl,d16.2

; Индекс: Служебный индекс
index=IDX_opt_intercl_info_ID_U,UNIQUE,replID

; Индекс: Служебный индекс
index=IDX_opt_intercl_info_REV_U,UNIQUE,replRev

; Индекс: Уникальный индекс по ключевым полям
index=IDX_opt_intercl_info_KEYFIELDS_U,UNIQUE,isin_id,client_code,replAct




; Заявки на экспирацию
[table:CustReplScheme:opt_exp_orders]
field=replID,i8
field=replRev,i8
field=replAct,i8
field=exporder_id,i8
field=client_code,c7
field=isin_id,i4
field=amount,i4
field=sess_id,i4
field=date,t
field=amount_apply,i4

; Индекс: Служебный индекс
index=IDX_opt_exp_orders_ID_U,UNIQUE,replID

; Индекс: Служебный индекс
index=IDX_opt_exp_orders_REV_U,UNIQUE,replRev

; Индекс: Уникальный индекс по ключевым полям
index=IDX_opt_exp_orders_KEYFIELDS_U,UNIQUE,exporder_id,replAct




; Справочник торгуемых активов
[table:CustReplScheme:opt_vcb]
field=replID,i8
field=replRev,i8
field=replAct,i8
field=code_vcb,c25
field=name,c75
field=exec_type,c1
field=curr,c3
field=exch_pay,d16.2
field=exch_pay_scalped,i1
field=clear_pay,d16.2
field=clear_pay_scalped,i1
field=sell_fee,d7.3
field=buy_fee,d7.3
field=trade_scheme,c1
field=coeff_out,d7.3
field=is_spec,i1
field=spec_spread,d16.5
field=min_vol,i4
field=client_code,c7

; Индекс: Служебный индекс
index=IDX_opt_vcb_ID,UNIQUE,replID

; Индекс: Служебный индекс
index=IDX_opt_vcb_REV_U,UNIQUE,replRev

; Индекс: Индекс по коду клиента и контракта
index=IDX_opt_vcb_KEYFIELDS_U,UNIQUE,client_code,code_vcb,replAct




; Cправочник торгуемых инструментов
[table:CustReplScheme:opt_sess_contents]
field=replID,i8
field=replRev,i8
field=replAct,i8
field=sess_id,i4
field=isin_id,i4
field=isin,c25
field=short_isin,c25
field=name,c75
field=code_vcb,c25
field=fut_isin_id,i4
field=is_limited,i1
field=limit_up,d16.5
field=limit_down,d16.5
field=old_kotir,d16.5
field=bgo_c,d16.2
field=bgo_nc,d16.2
field=europe,i1
field=put,i1
field=strike,d16.5
field=roundto,i4
field=min_step,d16.5
field=lot_volume,i4
field=step_price,d16.5
field=d_pg,t
field=d_exec_beg,t
field=d_exec_end,t
field=signs,i4
field=last_cl_quote,d16.5
field=bgo_buy,d16.2
field=base_isin_id,i4

; Индекс: Служебный индекс
index=IDX_opt_sess_con_ID_U,UNIQUE,replID

; Индекс: Служебный индекс
index=IDX_opt_sess_con_REV_U,UNIQUE,replRev




; Результаты клиринга: волатильность и теоретические цены
[table:CustReplScheme:opt_sess_settl]
field=replID,i8
field=replRev,i8
field=replAct,i8
field=sess_id,i4
field=date_clr,t
field=isin,c25
field=isin_id,i4
field=volat,d16.5
field=theor_price,d16.5

; Индекс: Служебный индекс
index=IDX_opt_sess_settl_ID_U,UNIQUE,replID

; Индекс: Служебный индекс
index=IDX_opt_sess_settl_REV_U,UNIQUE,replRev

; Индекс: Уникальный индекс по ключевым полям
index=IDX_opt_sess_settl_KEYFIELDS_U,UNIQUE,sess_id,isin,replAct







